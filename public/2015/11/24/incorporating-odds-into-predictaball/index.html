<!DOCTYPE html>
<html lang="en-uk">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Stuart Lacy">
  <meta name="description" content="Research Fellow">

  
  <link rel="alternate" hreflang="en-uk" href="/2015/11/24/incorporating-odds-into-predictaball/">

  
  


  

  
  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-110705129-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/2015/11/24/incorporating-odds-into-predictaball/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@stulacy">
  <meta property="twitter:creator" content="@stulacy">
  
  <meta property="og:site_name" content="Stuart Lacy">
  <meta property="og:url" content="/2015/11/24/incorporating-odds-into-predictaball/">
  <meta property="og:title" content="Incorporating odds into Predictaball | Stuart Lacy">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-uk">
  
  <meta property="article:published_time" content="2015-11-24T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2015-11-24T00:00:00&#43;00:00">
  

  

  <title>Incorporating odds into Predictaball | Stuart Lacy</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Stuart Lacy</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/post">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/publication">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Incorporating odds into Predictaball</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2015-11-24 00:00:00 &#43;0000 GMT" itemprop="datePublished">
      Nov 24, 2015
    </time>
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/2015/11/24/incorporating-odds-into-predictaball/#disqus_thread"></a>
  

  

  
  

  

</div>


      <div class="article-style" itemprop="articleBody">
        

<p>I&rsquo;ve tinkered around with Predictaball a bit recently in an effort to increase its accuracy, with the overall goal of beating Paul Merson and Lawro so that I can claim &lsquo;human competitiveness&rsquo;. I&rsquo;ve mentioned in previous posts that I envisage 2 potential ways to achieve this.</p>

<ol>
<li>Include more player data</li>
<li>Incorporate bookies odds</li>
</ol>

<p>Adding more player data (such as a variable for each player indicating whether they are in the squad or not) would allow the model to account for situations when a player who is strongly associated with the team winning is now injured - for an example see City&rsquo;s abysmal record when Kompany isn&rsquo;t playing. However having variables for the thirty members of a club football squad would prove very hard to interpret analytically, in addition to having a large number of parameters. A logistic regression model for instance wouldn&rsquo;t fare so well here.</p>

<p>In a somewhat controversial 2002 paper, Leo Breiman discusses the difference between data driven approaches (typically linear models formed using conventional statistical techniques) and algorithmic methods (black box models such as SVMs and random forests which are highly accurate but very hard to interpret). A crucial part of model design is knowing when each approach is appropriate, and for a data set comprising a large number of predictors for each player a black box would definitely be more useful rather than trying to manually tweak the model. As an aside I&rsquo;d definitely recommend reading Breiman&rsquo;s paper in full, it can be found here <a href="http://projecteuclid.org/euclid.ss/1009213726" target="_blank">Breiman, Leo. <em>Statistical modeling: The two cultures (with comments and a rejoinder by the author).</em> Statistical Science 16.3 (2001): 199-231.</a> complete with responses from big names in the statistical community such as Sir David Cox and Brad Efron. In fact I may even devote a future post to it, it&rsquo;s that important.</p>

<h3 id="large-model">Large model</h3>

<p>One idea on how to develop Predictaball is to incorporate a huge amount of information about each match, mostly focused around player availability but also potentially including factors such as whether they have a new manager, if they&rsquo;re close to relegation zone, resting time since last match and so on.</p>

<h3 id="playing-the-bookies">Playing the bookies</h3>

<p>The second idea I had was to exploit the large amount of already available predictions, i.e. bookies odds. While eventually I&rsquo;d like to be able to have my own predictions more accurate than the bookies give (using the above technique), in the meantime it seems a shame to not make use of their predictions. The main idea is to compare the odds offered by different websites to find firstly the most likely outcome, and secondly, identify bookies which are offering good bets. Obviously this is something that some people do currently but it&rsquo;s time consuming to do manually; an automated system would provide numerous benefits! I&rsquo;d need to fine tune this idea a bit, but a manual data driven approach would work well here, trading off different bookies (along with Predictaball&rsquo;s predicted outcomes) to highlight good bets.</p>

<h3 id="incorporating-odds-into-predictaball">Incorporating odds into Predictaball</h3>

<p>To this extent I&rsquo;ve started having a play with the available data and have downloaded a set of historical odds from a particular bookies in order to train a model. For now I&rsquo;ve just extended my current predictor set of W/L/D for each team to include the W/L/D outcome probabilities as provided by the bookies. Straight away this has helped Predictaball achieve a 15% increase in accuracy, from an estimated 48% correct predictions to 55%, which is better than Merson but still significantly worse than Lawro. However note that by using bookies odds, even from multiple sources, it&rsquo;s unlikely that I&rsquo;ll ever be able to largely improve upon them. There&rsquo;s more scope for improving accuracy by obtaining more data to reflect true signal in the data.</p>

<p>Incidentally, the bookies achieved an accuracy of 56% on the same unseen test data, so Predictaball is still slightly worse than just betting with the favourite. This is where incorporating <em>big data</em> would be helpful to be able to beat the bookies, by including such a large range of information in my model I&rsquo;d hope to be able to offer greater predictive power than the bookies have, and therefore be able to identify good bets.</p>

<h3 id="modeling-profit">Modeling profit</h3>

<p>Another idea I had was to form a secondary modeling stage, combining the predicted probabilities of each outcome from Predictaball (just using W/L/D input features) with the bookies odds for these outcomes into a model which aims to provide a binary &ldquo;Yes you should place this bet&rdquo; or &ldquo;Avoid this one!&rdquo; outcome. Using the current rather naive Predictaball implementation I was able to make a profit of Â£4, from 100 matches (only about 40 or so were deemed as good bets), which obviously is far from satisfactory in its current state but lays the groundwork for a good system when Predictaball is more capable.</p>

<h2 id="future-directions">Future directions</h2>

<p>To an extent the two approaches I&rsquo;ve bee describing have contrasting objectives, the first method aims to guess the most likely outcome of a match, while the second will be more concerned with maximising profit. A hierarchical system may be most appropriate here, inputting Predictaball&rsquo;s objective guesses (from assessing which players are available etc&hellip;) into a secondary model with various bookies odds to identify which bets I should take to optimise my income.</p>

<p>My main focus is thereby to improve Predictaball&rsquo;s accuracy, either by incorporating a vast range of match meta data, or by adopting a forecasting approach, to then form the secondary model to establish whether the odds offered by a bookies represent a good bet or not. This could later be extended to sweep multiple bookies to find multiple good bets.</p>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/football">football</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/predictaball">Predictaball</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/machine-learning">machine learning</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/2015/10/26/predictaball-end-of-season-review/">Predictaball end of season review</a></li>
    
    <li><a href="/2014/08/16/predicting-football-results-with-evolutionary-algorithms/">Predicting Football results with Evolutionary Algorithms</a></li>
    
    <li><a href="/2015/04/14/implementation-of-multi-area-under-curve-mauc-in-python/">Implementation of Multi-Area Under Curve (MAUC) in Python</a></li>
    
  </ul>
</div>




<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "stulacy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 Stuart Lacy &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//stulacy.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>


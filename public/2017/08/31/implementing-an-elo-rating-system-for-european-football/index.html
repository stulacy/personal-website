<!DOCTYPE html>
<html lang="en-uk">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Stuart Lacy">
  <meta name="description" content="Research Fellow">

  
  <link rel="alternate" hreflang="en-uk" href="/2017/08/31/implementing-an-elo-rating-system-for-european-football/">

  
  


  

  
  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-110705129-1', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/2017/08/31/implementing-an-elo-rating-system-for-european-football/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@stulacy">
  <meta property="twitter:creator" content="@stulacy">
  
  <meta property="og:site_name" content="Stuart Lacy">
  <meta property="og:url" content="/2017/08/31/implementing-an-elo-rating-system-for-european-football/">
  <meta property="og:title" content="Implementing an Elo rating system for European football  | Stuart Lacy">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-uk">
  
  <meta property="article:published_time" content="2017-08-31T00:00:00&#43;01:00">
  
  <meta property="article:modified_time" content="2018-01-08T00:00:00&#43;00:00">
  

  

  <title>Implementing an Elo rating system for European football  | Stuart Lacy</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Stuart Lacy</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/post">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/publication">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Implementing an Elo rating system for European football </h1>

      

<div class="article-metadata">

  <span class="article-date">
    
        Last updated on
    
    <time datetime="2017-08-31 00:00:00 &#43;0100 BST" itemprop="datePublished">
      Jan 8, 2018
    </time>
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    13 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="/2017/08/31/implementing-an-elo-rating-system-for-european-football/#disqus_thread"></a>
  

  

  
  

  

</div>


      <div class="article-style" itemprop="articleBody">
        

<p>My football prediction has <a href="http://stuartlacy.co.uk/2017/06/27/predicting-football-results-in-2016-2017-with-machine-learning---bayesian-hierarchical-modelling/" target="_blank">previously
relied</a> upon a
Bayesian approach to quantify a team&rsquo;s skill level, by modelling it as a
random intercept in a hierarchical model of the outcome of a match.
While this model performed very well (<a href="http://stuartlacy.co.uk/2017/06/27/predicting-football-results-in-2016-2017-with-machine-learning---bayesian-hierarchical-modelling/" target="_blank">62% accuracy last
season</a>), I was never
fully satisfied since this measure of skill is an average across the
last ten seasons that I had data for, rather than being updated to
reflect the time-varying nature of form. This meant that a team which
had experienced a large skill change in recent years and was heading on
the same trajectory was poorly predicted by the model, such as was the
case with Red Bull Leipzig, who came second in the Bundesliga in their
first season after promotion.</p>

<p>In an attempt to combat this I added extra predictors to each match that
measured the form of each team by counting the number of wins and losses
from their previous 5 games. However, this method doesn&rsquo;t take into
account the oppponents of those games or whether they had home advantage
or not. Instead, what I really wanted was a longitudinal measure of
skill, such as the
<a href="https://en.wikipedia.org/wiki/Elo_rating_system" target="_blank">Elo</a> system. This post
provides a brief introduction to the Elo scoring system before going
into detail on my implementation for European club football.</p>

<h2 id="elo">Elo</h2>

<p>The Elo rating system is a method of quantifying the skill of
competitors in a head-to-head competition, which was initially designed
for chess. It assumes that a team&rsquo;s performance is a random variable centered on its rating, in the original implementation a normal distribution was described although the logistic distribution is also commonly used as it allows for more upsets due its fatter tails.</p>

<p>The system is started by determining what an average rating is, with
1500 typically being chosen. This is assigned to every newcomer and is
updated after each match to reflect the team&rsquo;s performance. The amount
to update by takes into account the expected match outcome, i.e. if
Leeds beat Man Utd they would receive far more Elo points than if they
beat another team in the Championship, since beating Man Utd is far more
of an upset. It is a zero-sum system: the amount of Elo points won by the
winning side are equal to the amount of points lost by the losers.
Overall, the mean Elo score of all teams will be equal to the starting value.</p>

<p>Mathematically, the system is characterised by 2 equations. The
<strong>expected</strong> outcome $E$ is given by the following equation, where $dr = elo_{home}-elo_{away}$. A value of $E$ = 1 indicates a home win, 0.5 indicates a draw and 0 is
an away win.</p>

<p>$$E = \frac{1}{1+10^\frac{-dr}{400}}$$</p>

<p>This derivation assumes a team&rsquo;s performance is distributed according to a logistic distribution, so the difference in performance ($dr$) also shares the same distribution with $\mu=0$. A value of 400 for the scale has been previously identified to work well. Therefore, $dr \sim Logistic(0, 400)$, with the CDF giving the expected outcome as above.</p>

<p>The rating update is calculated as follows:</p>

<p>$$elo_{home}^{′}=elo_{home}+KG(O − E)$$</p>

<p>We&rsquo;ve already seen $E$, and $O$ is the <strong>observed</strong> outcome where
$O \in $ {0, 0.5, 1} for loss, draw, win respectively.</p>

<p>This leaves 2 parameters $K$ and $G$ that govern the system stability
and incorporate margin of victory respectively. I&rsquo;ll later discuss
how to select values for these. There are two other considerations of a
football prediction model: incorporating home advantage and how to
handling promotion and relegation.</p>

<p>I&rsquo;ve found several implementations of Elo to club sports and make
reference to these throughout the rest of the document. I&rsquo;d highly
recommend reading them if you&rsquo;re interested, the FiveThirtyEight
articles are particularly well written.</p>

<ul>
<li><a href="http://www.eloratings.net/system.html" target="_blank">World Football Ratings</a>
(Soccer national teams)</li>
<li><a href="http://clubelo.com/System" target="_blank">Club Elo</a> (Soccer club teams)</li>
<li><a href="https://fivethirtyeight.com/features/how-we-calculate-nba-elo-ratings/" target="_blank">FiveThirtyEight&rsquo;s
NBA</a></li>
<li><a href="https://fivethirtyeight.com/datalab/introducing-nfl-elo-ratings/" target="_blank">FiveThirtyEight&rsquo;s
NFL</a></li>
</ul>

<h2 id="considerations">Considerations</h2>

<h3 id="k">$K$</h3>

<p>Let&rsquo;s start with an easy one. $K$ is a scaling parameter that dictates
how much impact recent results should have on Elo. For sports with a
small number of games that correlate strongly with a team&rsquo;s ability,
such as the football World Cup, use a large value. For assessing the
strength of a team over a long season, where each individual match has
less bearing on a team&rsquo;s ability then a smaller value is more
appropriate. I&rsquo;m going to use $K = 20$ as used by all the four
implementations referencd above.</p>

<h3 id="home-advantage">Home advantage</h3>

<p>Home advantage is typically incorporated into an Elo scoring method by
manually adding a constant value to the home team&rsquo;s Elo, for example:
$$dr = elo_{home} − elo_{away} + HA$$
where $HA$ is a constant. This value can be determined by looking at
historical data to identify a value of $E$ assuming both teams are of
equal skill, and solving for $HA$.</p>

<p>$$dr = -400log(\frac{1}{E} - 1) = HA$$
when $elo_{home} = elo_{away}$.</p>

<p>Different rating systems use different values:</p>

<ul>
<li>World Football and NBA use 100</li>
<li>FiveThirtyEight&rsquo;s NFL uses 65</li>
<li>Club Elo uses a dynamic system that is updated each week to account
for historical trends in home advantage. I don&rsquo;t think it&rsquo;s
necessary to update it this frequently, but it is definitely worth
recalculating it every season and keeping a separate value for
each league.</li>
</ul>

<p>I&rsquo;m going to use the football results database I&rsquo;ve built up to identify
appropriate values of HA, exploring whether there&rsquo;s significant
inter-league variation and any temporal trends.</p>

<p>The plot below displays home advantage calculated every 4 weeks across
the main 4 European leagues with an overlaid smooth. It highlights that
while the magnitude of home advantage does fluctuate over time, it does
not appear to change quickly enough to necessitate weekly updates as
Club Elo do. It&rsquo;s also interesting to view how home advantage differs
across leagues. For example, from 2007 to 2013 the Bundesliga had
substantially lower home advantage than the other leagues, with all
leagues experiencing similar levels of home advantage from this point
onwards.</p>

<p><img src="/img/elo_31082017/unnamed-chunk-6-1.png" alt="Home advantage over time per league" /></p>

<p>The plot highlights that there are definitely inter-league differences
in home advantage, but updating the home advantage constant more
frequently than season. <a href="https://fivethirtyeight.com/features/how-we-calculate-nba-elo-ratings/" target="_blank">FiveThirtyEight investigated using dynamic home
advantage</a>
but didn&rsquo;t notice any significant improvement over a static constant. As
a result, I&rsquo;ll stratify my home advantage by league and update it each
season.</p>

<h3 id="margin-of-victory">Margin of victory</h3>

<p>$G$ is a multiplier that accounts for the Margin of Victory (MOV), i.e.
assigning more Elo points for a 3-0 win than 1-0. Two considerations of
$G$ are that it doesn&rsquo;t need to be linear, as the difference between a
5-0 win and a 6-0 win is not the same as the difference between a 1-0
and 2-0. Also note that while the MOV in a football (soccer) game is a
continuous variable, in practice it can be considered discrete taking on
values $[0, X]$, where $X$ is a large number that will almost never be met in normal circumstances, say, 15.</p>

<p>The World Football Elo system uses the following formula:</p>

<p>$G = 1 \ if \ MOV \in {0, 1}$</p>

<p>$G = 1.5 \ if \ MOV = 2$</p>

<p>$G = \frac{11 + MOV}{8} \ \ otherwise$</p>

<p><img src="/img/elo_31082017/unnamed-chunk-8-1.png" alt="World football's G function" /></p>

<p>This allows for MOV to play a bigger role in small victories, such as by
1 or 2 goal leads, with the effect decreasing at larger MOVs. I may even
be tempted to use a more rapid tailing off for higher victories, with no
additional benefit gained from beyond say 7 goals, since in my opinion
it is not the skill difference between two teams that determines whether
the MOV is 5 or 7, but other factors, such as red cards.</p>

<p>However, FiveThirtyEight identified the problem of auto-correlation,
i.e. that strong teams are more likely to win by a large margin and so
inflate their rating. To combat this, a penalty term is added to $G$
that is a function of the Elo difference between the two teams. They use
two different functional forms for $G$ for NBA and NFL respectively:</p>

<p>$G_{nba} = \frac{(MOV + 3)^{0.8}}{7.5 + 0.006dr}$</p>

<p>$G_{nfl} = ln(abs(MOV)+1) \frac{2.2}{2.2 + 0.001dr}$</p>

<p>I&rsquo;ll firstly plot $G_{nba}$ for a range of $dr$.
I&rsquo;m not familiar with basketball at all, but according to <a href="http://www.landofbasketball.com/statistics/largest_margins.htm" target="_blank">this handy
website</a>,
a MOV of 68 is the highest recorded. The plot shows a far more linear
curve than I expected, indeed it is more linear than World Football&rsquo;s
formulation for G which applies the same multiplier for a 2-0 win as a
1-0. The effect of including $dr$ to counteract autocorrelation is
also highlighted, so that highly skilled teams receive fewer Elo points
for winning by a high margin than evenly matched teams.</p>

<p><img src="/img/elo_31082017/unnamed-chunk-10-1.png" alt="G nba" /></p>

<p>The highest MOV in an NFL game is 58 (<a href="http://mcubed.net/nfl/ptmarhgm.shtml" target="_blank">from
here</a>). $G_{nfl}$
has a far steeper shape than the NBA owing to its use of the log,
perhaps reflecting that like soccer, MOV is less uniformly distributed.</p>

<p><img src="/img/elo_31082017/unnamed-chunk-12-1.png" alt="G nfl " /></p>

<p>I&rsquo;m going to take inspiration from these approaches to develop my own
formula for $G$. My main requirement is to have a similar log shape to
$G_{nfl}$, to better reward a win at small MOVs, while not
over-rewarding blowouts, since I don&rsquo;t believe a MOV of 7 goals means
the winner is that much better than if they had won by 5. I also
definitely want to reward a 2-0 win more than a 1-0 win, unlike the
World Football implementation.</p>

<p>I will tune it so that as with the NBA and NFL, the value for $G$ at the
highest recorded MOV is ~4 for two teams of equal skill. It&rsquo;s hard to
find a reliable historic record MOV for competitive club football that
still has relevance for today&rsquo;s game. I&rsquo;ve found the maximum Premiership
MOV to be 9-0 (Man Utd vs Ipswich), in La Liga it&rsquo;s a MOV of 11 from a
12-1 win for Bilbao over Barcelona. However, there are from the 1930s
when the game was played far differently. In my 11 season data set the
highest MOV is 8-0 from Chelsea vs Aston Villa so I&rsquo;ll aim to fix $G = 4$ at this point. I&rsquo;ll also add in a penalty term similar to
FiveThirtyEight to handle autocorrelation.</p>

<p>Also note that unlike American sports where there are no ties and thus
$MOV \neq 0$, in football this is possible. This is why the World
Football method specifies two functional forms of $G$, one for
$MOV \leq 1$ and one for $MOV \gt 1$. I&rsquo;ll take the same approach
of splitting the function up to ensure $G = 1$ at $MOV \leq 1$ and then
adding on a curve rather than the linear relationship in the original
implementation.</p>

<p>After trial and error I was satisfied with the following expression.</p>

<p>$$log(1.7MOV) \frac{2}{2 + 0.001dr}$$</p>

<p>The plot below highlights my method, which meets its requirements of
having a log shape, better rewarding a MOV of 2 than 1, and having a
value of $G \approx 4$ at the highest recorded MOV value ($G = 3.77$ for
$MOV = 8$, which is close enough). I&rsquo;ve used the same penalty as
$G_{nfl}$ since I have a similar logarithmic curve.</p>

<p><img src="/img/elo_31082017/unnamed-chunk-16-1.png" alt="My final Elo function" /></p>

<h3 id="handling-promotion-and-relegation">Handling promotion and relegation</h3>

<p>The idea of promotion and relegation is one that isn&rsquo;t typically present
in American sports, where there are a set number of <em>franchises</em> in the
league. The league gets expanded every now and then with new ones, but
as far as I&rsquo;m aware franchises never leave the league without a
replacement. This constant expansion is different to football, where a
league will have the same number of teams across seasons (with minor
exceptions now and then) with the teams themselves changing in each off
season. A model will need to be able to handle promotion and relegation,
particularly since I won&rsquo;t initially be tracking Elo for lower
divisions. In this situation, the system needs to adapt to ensure that
the average Elo of the Premiership is 1500, this can be achieved by
assigning the Elo of the promoted teams to the average rating of the
relegated teams. If I were to track ratings across the entire football
league then 1500 would refer to the global average and so promoted and
relegated teams would simply keep their current rating.</p>

<p>I&rsquo;ll also employ the decay method of FiveThirtyEight, whereby at the end
of a season each team&rsquo;s rating is brought back towards the mean,
although I&rsquo;ll slightly reduce this effect (0.80 Elo retained vs 0.75)
since I&rsquo;d imagine teams in American sports are more likely to be pulled
to the average thanks to the draft system and the salary cap:</p>

<p>$elo^{′} = 0.8elo + 0.2 \times 1500$</p>

<h2 id="final-system">Final system</h2>

<p>The final system then uses $K = 20$, the formulation of $G$ above, and
will track each top-tier European league independently, so that
relegated teams stop being monitored and promoted teams are assumed to
not have a known rating. Once I&rsquo;ve got everything running smoothly I&rsquo;ll
look into tracking as many complete league structures as possible, so
that an Elo of 1500 refers to an average team across Europe, rather than
just an average Serie A team for example. This will also facilitate easy
predictions for the Champions League.</p>

<p>The plot below shows the change in rating of 4 Premiership teams over
the last 2 seasons using both my Elo system and the one employed by
World Football. The log shape of $G$ chosen for Predictaball results as
expected results in an amplified signal, with losses and wins of more
than 1 goal having a greater impact on the rating change. However, they
otherwise are well correlated. The inter-season decay is also visible in
the middle of the x-axis and appears to be well justified. For example,
Leceister finished the 2015-2016 season at a peak rating (owing to
having won the Premiership), but then immediately start off on a
downwards trend the next season, continuing the regression to the mean
that the inter-season decay forms. Liverpool seemed to have started off
the 2016-2017 season at the same skill that they ended the previous
season and so the weight decay is not strictly accurate here. However,
in the absence of information suggesting whether the team will start the
next season where they left off or not, the regression to the mean is
appropriate.</p>

<p><img src="/img/elo_31082017/unnamed-chunk-21-1.png" alt="Elo of 4 Premier League teams" /></p>

<h1 id="implementation-in-predictaball">Implementation in Predictaball</h1>

<p>Now that I have a longitudinal rating system, rather than the previous
static one, it can be incorporated into the overall predictive modelling
system that I&rsquo;ve described variously elsewhere. The idea is that the
predictive model itself can be rather simple, since factors such as home
advantage, margin of victory, and of course skill, are included in the
Elo rating. I may still want to include other details, such as: an
indication of recent form measured by the overall rating change over the
last 5 games, if the <a href="https://youngsportswriters.wordpress.com/2011/03/16/new-manager-syndrome-does-it-really-exist/" target="_blank">manager has changed
recently</a>,
or the availability of key players. However, for now I&rsquo;ll just make a
simple ordinal regression.</p>

<p>The second aspect of Predictaball is identifying value bets offered by
the bookies. The <a href="http://stuartlacy.co.uk/2017/06/28/predicting-football-results-in-2016-2017-with-machine-learning---automated-betting-system/" target="_blank">previous
method</a> was profitable on the Premiership, but not on the other major European
leagues. This season I&rsquo;m going to improve on the betting system in 2
ways: firstly so that it outputs a fraction of the bankroll to predict
rather than an absolute value, and secondly I&rsquo;ll stratify it by league
as there seems to be variation in how the odds are calculated.</p>

<p>Once I&rsquo;ve finalised my match prediction and betting models I&rsquo;ll write
about them, and will also try to provide more progress updates
throughout the season. My aim for this season is to make the system
robust and reliable, so that I can expand to other leagues and sports
with confidence.</p>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/football">football</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/elo">elo</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/machine-learning">machine learning</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/predictaball">Predictaball</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/2017/06/28/predicting-football-results-in-2016-2017-with-machine-learning---automated-betting-system/">Predicting football results in 2016-2017 with machine learning - Automated betting system</a></li>
    
    <li><a href="/2017/06/27/predicting-football-results-in-2016-2017-with-machine-learning---bayesian-hierarchical-modelling/">Predicting football results in 2016-2017 with machine learning - Bayesian hierarchical modelling</a></li>
    
    <li><a href="/2016/05/29/predictaball-end-of-season-review-for-2015-2016/">Predictaball end of season review for 2015-2016</a></li>
    
    <li><a href="/2015/11/24/incorporating-odds-into-predictaball/">Incorporating odds into Predictaball</a></li>
    
    <li><a href="/2015/10/26/predictaball-end-of-season-review/">Predictaball end of season review</a></li>
    
  </ul>
</div>




<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "stulacy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2018 Stuart Lacy &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//stulacy.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

